"use strict";(self.webpackChunkplex_web_client=self.webpackChunkplex_web_client||[]).push([[3654],{93654:(e,t,r)=>{r.r(t),r.d(t,{default:()=>Ir});var n=r(67294),i=r(28216),l=r(69605),a=r(74309),o=r(2200),s=r(9011),c=r(48871),u=r(53162),m=r(87212),d=r(71594),p=r(5513),v=r(52725),f=r(17524),h=r(60316),y=r(27082),g=r(5562),Z=r(84936),E=r(93021),P=r(65671),b=r(40872),I=r(39537),S=r(94173),k=r(1811),C=r(14877),x=r(14789),L=r(12415),O=r(41538),T=r(36322),R=r(89894),w=r(31235),M=r(24418),j=r(28582),z=r(17467);const N=(0,n.createContext)(["",void 0]);function q({children:e,query:t,pane:r}){return n.createElement(N.Provider,{value:[t,r]},e)}var A=r(24546),U=r(89186),B=r(13517),H=r(75212),$=r(76714),W=r(41768),D=r(51139),F=r(6033),K=r(94184),G=r.n(K),Q=r(94372),_=r(42423),X=r(74257),Y=r(39272),V=r(5178),J=r(54778),ee=r(93966),te=r(96335),re=r(9484),ne=r(6330),ie=r(73219);function le(e){const{metricsPage:t,metricsContextTuple:r}=(0,o.Zn)(),[i,l]=(0,n.useContext)(N),a=(0,n.useMemo)((()=>(0,ie.jc)(e)?(0,re.Z)(e.item):void 0),[e]),{isServer:s}=(0,ne.Z)(e)||{};return(0,n.useCallback)((()=>{s||(0,ee.DB)("metrics").trackEvent({event:te.zP,page:t,pane:l,interaction:!0,properties:{value:i,contextTuple:r,metadataItem:a}})}),[s,r,a,t,l,i])}var ae=r(31298),oe=r(69557),se=r(15762),ce=r(37991),ue=r(70537);const me="SearchAvailabilityPlatformPosterListItem-title-zuBWeH MetadataPosterCardTitle-singleLineTitle-lPd1B2 MetadataPosterCardTitle-title-ImAmGu";var de=Object.getOwnPropertySymbols,pe=Object.prototype.hasOwnProperty,ve=Object.prototype.propertyIsEnumerable;function fe({platformResult:e,posterSize:t}){const[r,i]=(0,w.c9)(),l=le(e),{metricsContextTuple:a}=(0,o.Zn)(),s=(0,se.Z)({result:e,server:r,provider:i,metricsContextTuple:a}),{hoverRef:c,isHovered:m,isActionsMenuOpen:d,isActionsMenuClosing:p,isActionsPending:v,isActionsVisible:f,onActionsMenuClose:h,onActionsMenuToggle:y,actionsMenuButtonID:g}=(0,ue.Z)({server:r,provider:i}),Z=String(e.item.id),{confirmServiceToggleModal:E,toggleServiceMenuItem:P}=(0,ce.Z)({service:Z,onMenuClose:h});return n.createElement(u.Kq,{align:"center",gap:"xxs"},n.createElement(Y.Z,{ref:c,className:"SearchAvailabilityPlatformPosterListItem-card-XNDYK_ PosterCard-card-BRB1k_"},n.createElement(oe.Z,{imageClassName:"SearchAvailabilityPlatformPosterListItem-poster-lbPsen",posterSize:t,tag:e.item}),s?n.createElement(V.Z,{className:"SearchAvailabilityPlatformPosterListItem-link-uR5v67 PosterCardLink-link-LozvMm Link-link-vSsQW1",hoverClassName:"SearchAvailabilityPlatformPosterListItem-hoveredLink-T4akHO PosterCardLink-hoveredLink-H5OMFC PosterCardLink-link-LozvMm Link-link-vSsQW1",isHovered:m,to:s,onPress:l}):null,f?n.createElement(_.Z,{className:G()("SearchAvailabilityPlatformPosterListItem-moreButton-cEgs15 MetadataPosterCardActions-moreButton-kNJ7sJ MetadataPosterCardActions-button-YYlmeL Link-link-vSsQW1",!m&&p&&"SearchAvailabilityPlatformPosterListItem-isHidden-aTxvGN"),id:g,isPending:v,tabIndex:-1,onPress:y}):null,n.createElement(Q.Z,{isOpen:d,target:g,onMenuClose:h},P),E),s?n.createElement(X.Z,{className:me,"data-testid":"metadataTitleLink",title:e.item.tag,to:s,onPress:l},e.item.tag):n.createElement("span",{className:me,title:e.item.tag},e.item.tag))}const he=n.forwardRef(((e,t)=>{var r=e,{item:i}=r,l=((e,t)=>{var r={};for(var n in e)pe.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&de)for(var n of de(e))t.indexOf(n)<0&&ve.call(e,n)&&(r[n]=e[n]);return r})(r,["item"]);const a=(0,J.Z)(l);if(!i)return null;const o=(0,h.Z)(i.source);return n.createElement("div",{ref:(0,ae.Z)(t,a.cellRef),"data-testid":"cellItem",style:a.style},n.createElement(w.ZP,{machineIdentifier:o.serverIdentifier,providerIdentifier:o.providerIdentifier},n.createElement(fe,{platformResult:i,posterSize:l.cellWidth})))}));var ye=r(34007),ge=r(88050),Ze=r(91135),Ee=r(59194),Pe=r(85180),be=r(46598),Ie=r(3360),Se=r(77045),ke=r(65233),Ce=r(72071);const xe="SearchChannelPosterListItem-title-A92TyE undefined";var Le=Object.getOwnPropertySymbols,Oe=Object.prototype.hasOwnProperty,Te=Object.prototype.propertyIsEnumerable;function Re({children:e,result:t}){const r=(0,n.useMemo)((()=>(null==t?void 0:t.source)?(0,h.Z)(t.source):null),[null==t?void 0:t.source]);return r?n.createElement(w.ZP,{machineIdentifier:r.serverIdentifier,providerIdentifier:r.providerIdentifier},e):n.createElement(n.Fragment,null,e)}function we({channelResult:e,posterWidth:t}){var r;const l=(0,i.I0)(),[a,o]=(0,w.c9)(),[s,c]=(0,Se.Z)(),m=(0,Ce.Z)({identifier:o.metricsIdentifier,type:I.pG.Channel}),d=le(e),p=(0,n.useMemo)((()=>(0,Pe.Z)({width:t,aspectRatio:S.oz})),[t]),v=(0,be.Z)({server:a,provider:o,width:p.width,height:p.height,url:e.item.art}),f=(0,n.useCallback)((()=>{m({action:ge.NH}),d(),l((0,Ee.gj)({server:a,provider:o,legacyAction:(0,ye.lS)({options:{type:Ze.pX,identifier:e.item.id}})}))}),[e.item.id,l,o,a,m,d]);return n.createElement(u.Kq,{gap:"xxs"},n.createElement(Y.Z,{ref:c},v?n.createElement(ke.Z,{fit:ke.k.Contain,height:p.height,src:v,width:p.width}):n.createElement("div",{className:"SearchChannelPosterListItem-emptyPoster-KgcQIO"}),n.createElement(V.Z,{isHovered:s,onPress:f},s?n.createElement(Ie.Z,{"aria-label":(0,g.Z)("Watch Now"),circleClassName:"SearchChannelPosterListItem-playButtonCircle-wS6tpq MetadataPosterCardActions-playCircle-rOnuVA PlayButton-playCircle-fK1f_v MetadataPosterCardCircle-cardCircle-gBHNQG",className:"SearchChannelPosterListItem-playButton-BngxNG MetadataPosterCardActions-playCoverButton-UfPjfq PosterCardLink-hoveredLink-H5OMFC PosterCardLink-link-LozvMm Link-link-vSsQW1 MetadataPosterCardActions-playButton-tT8c2I PlayButton-playButton-vS1WII MetadataPosterCardActions-button-YYlmeL Link-link-vSsQW1",onPress:f}):null)),n.createElement("div",{className:"SearchChannelPosterListItem-titleContainer-ACKZ0G"},n.createElement("div",{className:xe},e.item.title),(null==(r=e.item.categories)?void 0:r.length)?n.createElement("div",{className:G()(xe,"SearchChannelPosterListItem-isSecondary-c4iiIh MetadataPosterCardTitle-isSecondary-gGuBpd")},e.item.categories[0]):null))}const Me=n.forwardRef(((e,t)=>{var r=e,{item:i}=r,l=((e,t)=>{var r={};for(var n in e)Oe.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&Le)for(var n of Le(e))t.indexOf(n)<0&&Te.call(e,n)&&(r[n]=e[n]);return r})(r,["item"]);const a=(0,J.Z)(l);return i?n.createElement("div",{ref:(0,ae.Z)(t,a.cellRef),"data-testid":"cellItem",style:a.style},n.createElement(Re,{result:i},n.createElement(we,{channelResult:i,posterWidth:l.cellWidth}))):null}));var je=r(50327),ze=r(8200);var Ne=Object.getOwnPropertySymbols,qe=Object.prototype.hasOwnProperty,Ae=Object.prototype.propertyIsEnumerable;function Ue({children:e,result:t}){const r=(0,n.useMemo)((()=>(null==t?void 0:t.source)?(0,h.Z)(t.source):null),[null==t?void 0:t.source]);return r?n.createElement(w.ZP,{machineIdentifier:r.serverIdentifier,providerIdentifier:r.providerIdentifier},e):n.createElement(n.Fragment,null,e)}function Be({result:e,posterSize:t}){const[r,i]=(0,w.c9)(),[l,a]=(0,Se.Z)(),s=le(e),{metricsContextTuple:c}=(0,o.Zn)(),m=(0,be.Z)({server:r,provider:i,width:t,height:t,url:e.item.thumb}),d=(0,se.Z)({result:e,server:r,provider:i,metricsContextTuple:c});return n.createElement(u.Kq,{align:"center",gap:"xxs"},n.createElement(Y.Z,{ref:a,className:"SearchDirectoryPosterListItem-card-BsC5cr PosterCard-card-BRB1k_"},m?n.createElement(ke.Z,{className:"SearchDirectoryPosterListItem-rounded-zBX_8Z",fit:ke.k.Cover,height:t,src:m,width:t}):n.createElement(ze.Z,{className:"SearchDirectoryPosterListItem-anagram-UIZ4pb Anagram-anagram-H5cIHF",height:t,name:e.item.title,width:t}),d?n.createElement(V.Z,{className:"SearchDirectoryPosterListItem-link-bIIvRj PosterCardLink-link-LozvMm Link-link-vSsQW1",hoverClassName:"SearchDirectoryPosterListItem-hoveredLink-x5Rcqx PosterCardLink-hoveredLink-H5OMFC PosterCardLink-link-LozvMm Link-link-vSsQW1",isHovered:l,to:d,onPress:s}):null),n.createElement(je.Z,{className:"SearchDirectoryPosterListItem-title-MQLMMw MetadataPosterCardTitle-singleLineTitle-lPd1B2 MetadataPosterCardTitle-title-ImAmGu",metadataItem:e.item,onPress:s}))}const He=n.forwardRef(((e,t)=>{var r=e,{item:i}=r,l=((e,t)=>{var r={};for(var n in e)qe.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&Ne)for(var n of Ne(e))t.indexOf(n)<0&&Ae.call(e,n)&&(r[n]=e[n]);return r})(r,["item"]);const a=(0,J.Z)(l);return i?n.createElement("div",{ref:(0,ae.Z)(t,a.cellRef),"data-testid":"cellItem",style:a.style},n.createElement(Ue,{result:i},n.createElement(Be,{posterSize:l.cellWidth,result:i}))):null}));var $e=r(40391),We=Object.defineProperty,De=Object.defineProperties,Fe=Object.getOwnPropertyDescriptors,Ke=Object.getOwnPropertySymbols,Ge=Object.prototype.hasOwnProperty,Qe=Object.prototype.propertyIsEnumerable,_e=(e,t,r)=>t in e?We(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;function Xe(e){var t,r=e,{result:i,mergedResult:l}=r,a=((e,t)=>{var r={};for(var n in e)Ge.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&Ke)for(var n of Ke(e))t.indexOf(n)<0&&Qe.call(e,n)&&(r[n]=e[n]);return r})(r,["result","mergedResult"]);const o=le(i);return n.createElement($e.Z,(s=((e,t)=>{for(var r in t||(t={}))Ge.call(t,r)&&_e(e,r,t[r]);if(Ke)for(var r of Ke(t))Qe.call(t,r)&&_e(e,r,t[r]);return e})({},a),c={item:i.item,mergedResult:l,routeKey:(null==(t=i.item)?void 0:t.type)===I.pG.Track?"parentKey":"key",onPress:o},De(s,Fe(c))));var s,c}var Ye=r(9429);const Ve="SearchTagPosterListItem-title-Fc4H1e MetadataPosterCardTitle-singleLineTitle-lPd1B2 MetadataPosterCardTitle-title-ImAmGu";var Je=Object.getOwnPropertySymbols,et=Object.prototype.hasOwnProperty,tt=Object.prototype.propertyIsEnumerable;function rt({children:e,result:t}){const r=(0,n.useMemo)((()=>(null==t?void 0:t.source)?(0,h.Z)(t.source):null),[null==t?void 0:t.source]);return r?n.createElement(w.ZP,{machineIdentifier:r.serverIdentifier,providerIdentifier:r.providerIdentifier},e):n.createElement(n.Fragment,null,e)}function nt({tagResult:e,posterSize:t,mergedResult:r}){const[i,l]=(0,w.c9)(),[a,s]=(0,Se.Z)(),c=le(e),{metricsContextTuple:m}=(0,o.Zn)(),d=(0,se.Z)({result:e,server:i,provider:l,metricsContextTuple:m});return n.createElement(u.Kq,{align:"center",gap:"xxs"},n.createElement(Y.Z,{ref:s,className:"SearchTagPosterListItem-card-DoBAj7 PosterCard-card-BRB1k_"},n.createElement(oe.Z,{imageClassName:"SearchTagPosterListItem-poster-K7H4vg",posterSize:t,tag:e.item}),d?n.createElement(V.Z,{className:"SearchTagPosterListItem-link-AP6yHU PosterCardLink-link-LozvMm Link-link-vSsQW1",hoverClassName:"SearchTagPosterListItem-hoveredLink-VfnTkp PosterCardLink-hoveredLink-H5OMFC PosterCardLink-link-LozvMm Link-link-vSsQW1",isHovered:a,to:d,onPress:c}):null),d?n.createElement(X.Z,{className:Ve,"data-testid":"metadataTitleLink",title:e.item.tag,to:d,onPress:c},e.item.tag):n.createElement("span",{className:Ve,title:e.item.tag},e.item.tag),n.createElement(Ye.Z,{mergedResult:r}))}const it=n.forwardRef(((e,t)=>{var r=e,{item:i,mergedResult:l}=r,a=((e,t)=>{var r={};for(var n in e)et.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&Je)for(var n of Je(e))t.indexOf(n)<0&&tt.call(e,n)&&(r[n]=e[n]);return r})(r,["item","mergedResult"]);const o=(0,J.Z)(a);return i?n.createElement("div",{ref:(0,ae.Z)(t,o.cellRef),"data-testid":"cellItem",style:o.style},n.createElement(rt,{result:i},n.createElement(nt,{mergedResult:l,posterSize:a.cellWidth,tagResult:i}))):null}));var lt=r(41542),at=r(57051),ot=r(92187),st=r(55247),ct=r(28277),ut=r(29039),mt=r(39110),dt=r(6642),pt=r(17867),vt=r(79026),ft=r(72605),ht=r(36900),yt=r(42460),gt=r(21641),Zt=r(23968),Et=r(53799),Pt=r(52598),bt=r(42934);function It({pivot:e}){const t=(0,i.I0)(),{pivot:r}=(0,i.v9)(ht.Z),l=(0,n.useMemo)((()=>e===gt.mr.TopResults?(0,g.Z)("Top Results"):(0,Pt.Z)(e)),[e]),a=(0,n.useCallback)((()=>{t(yt.Z.actions.setPivot(e)),t(yt.Z.actions.markPending())}),[t,e]);return n.createElement("div",{className:r===e?"ExperimentalQuickSearchResultsPageHeader-activePivot-RDus3g":void 0},n.createElement(lt.zx,{onPress:a},l))}function St(){const{query:e,pivot:t,isPending:r}=(0,i.v9)(ht.Z),l=(0,i.v9)(ot.Z),a=(0,i.v9)(ft.Z),o=(0,i.v9)(mt.Z),s=(0,i.v9)(vt.Z),c=(0,i.v9)(pt.Z),m=(0,n.useMemo)((()=>r?(0,g.Z)('Searching for "{query}"',{query:e}):t===gt.mr.TopResults?(0,g.Z)('Top Results for "{query}"',{query:e}):(0,g.Z)('Search results for "{query}" in {pivot}',{query:e,pivot:(0,Pt.Z)(t)})),[e,t,r]),p=(0,n.useMemo)((()=>{const e=new Set;return(0,Zt.Z)({userFeatures:l.features,userServices:l.services,userProviderIdentifiers:o,serverProviders:s,searchProvider:a}).forEach((t=>{e.add((0,Et.Z)(t))})),Array.from(e)}),[s,a,l.features,l.services,o]);return n.createElement(u.Kq,{gap:"m",paddingY:"m"},c?n.createElement(dt.Z,null):n.createElement(bt.Z,null,n.createElement(st.Z,null,n.createElement(u.Kq,{gap:"m",orientation:"horizontal",verticalAlign:"center"},e?n.createElement(d.x,{as:"h1",level:"heading-2"},m):null,r?n.createElement(at.$,{size:"s"}):null)),n.createElement(ct.Z,null,n.createElement(ut.Z,{listStyles:[O.n.Search],selectedListStyle:O.n.Search}))),p.length?n.createElement("div",{className:"ExperimentalQuickSearchResultsPageHeader-pivotButtons-Rd7z15"},n.createElement(u.Kq,{gap:"m",orientation:"horizontal",verticalAlign:"center"},n.createElement(It,{pivot:gt.mr.TopResults}),p.map((e=>n.createElement(It,{key:e,pivot:e}))))):null)}var kt=r(23777),Ct=r(48435),xt=r(30373),Lt=r(89687),Ot=r(7910),Tt=r(29298),Rt=r(36996),wt=r(82913),Mt=r(7796);const jt="SearchResultsPage-sectionTitle-BThL8n";var zt=Object.defineProperty,Nt=Object.defineProperties,qt=Object.getOwnPropertyDescriptors,At=Object.getOwnPropertySymbols,Ut=Object.prototype.hasOwnProperty,Bt=Object.prototype.propertyIsEnumerable,Ht=(e,t,r)=>t in e?zt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,$t=(e,t)=>{for(var r in t||(t={}))Ut.call(t,r)&&Ht(e,r,t[r]);if(At)for(var r of At(t))Bt.call(t,r)&&Ht(e,r,t[r]);return e},Wt=(e,t)=>Nt(e,qt(t));const Dt=parseInt(Mt.Z.v4PagePadding,10),Ft=parseInt(Mt.Z.v4CardTitleHeight,10),Kt=parseInt(Mt.Z.v4CardTitleGap,10),Gt=parseInt(Mt.Z.v4CardShadowSize,10),Qt=parseInt(Mt.Z.gapMedium,10);function _t(e){return e.results.length?e.results.reduce(((t,r)=>{if((0,ie.s_)(r)){const n=e.id,i=t.find((({hub:e})=>e.key===n));if(i)i.items.push(r),i.hub.initialSize++;else{const{source:i,sourceURI:l}=r,a={hub:Xt({title:(0,g.Z)("Channels"),context:`hub.${e.id}.${O.U.Channels}`,type:O.U.Channels,key:n,source:i,sourceURI:l}),items:[r]};t.push(a)}}else if((0,ie.g$)(r)){const n=(0,ie.Em)(r)?r.type:r.item.tagType;if(null==n)return t;const i=(0,C.Z)(n),l=`${e.id}-${i}`,a=t.find((({hub:e})=>e.key===l));if(a)a.items.push(r),a.hub.initialSize++;else{const{source:n,sourceURI:a}=(0,ie.Em)(r)?r.items[0]:r,o={hub:Xt({title:(0,x.Z)(i,!0),context:`hub.${e.id}.${O.U.Person}`,type:O.U.Person,key:l,source:n,sourceURI:a}),items:[r]};t.push(o)}}else if((0,ie.jc)(r)||(0,ie.EX)(r)){const{type:n,subtype:i}=(0,ie.Em)(r)?r.items[0].item:r.item,l=function(e,t){return t===I.y_.Clip?O.U.Clip:(0,R.Z)(e)}(n,i),a=`${e.id}-${l}`,o=t.find((({hub:e})=>e.key===a));if(!o&&l){const{source:o,sourceURI:s}=(0,ie.Em)(r)?r.items[0]:r,c={hub:Xt({title:(0,k.Z)(n,i,!0),context:`hub.${e.id}.${l}`,type:l,key:a,source:o,sourceURI:s}),items:[r]};t.push(c)}else o&&(o.items.push(r),o.hub.initialSize++)}return t}),[]):null}function Xt({type:e,key:t,title:r,source:n,sourceURI:i,context:l}){return{type:e,more:!1,initialSize:1,isStale:!1,key:t,hubIdentifier:"",source:n,sourceURI:i,title:r,context:l}}function Yt({index:e,hub:t,items:r}){const[l,a]=(0,w.c9)(),s=(0,i.v9)(H.Z),c=(0,n.useMemo)((()=>t.type===O.U.Person?(0,z.Z)({columnWidth:s,aspectRatio:S.Zp,titleHeight:2*Ft+Kt,innerHorizontalPadding:Qt,outerPaddingTop:Gt,outerPaddingRight:Dt,outerPaddingBottom:Gt,outerPaddingLeft:Dt}):(0,T.Z)({listType:t.type,listStyle:O.n.Search,columnWidth:s,titleCount:t.type===O.U.Channels?2:void 0})),[t,s]),u=(0,n.useMemo)((()=>i=>i.item?n.createElement(L.ZP,{key:(0,Ot.Z)(i.item),containerProvider:a,containerServer:l,containerType:t.type,listStyle:O.n.Search},n.createElement(wt.ZP,{items:r},n.createElement(o.ZP,{column:i.column,name:t.context,row:e},n.createElement(Jt,$t({},i))))):n.createElement(n.Fragment,null)),[t.context,t.type,e,r,a,l]);return n.createElement(j.Z,{cellComponentFactory:u,hub:t,hubTitleComponent:Vt,items:r,layout:c,totalSize:r.length})}function Vt({hub:e}){return n.createElement(M.Z,null,e.title," (",e.initialSize,")")}function Jt(e){var t=((e,t)=>{var r={};for(var n in e)Ut.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&At)for(var n of At(e))t.indexOf(n)<0&&Bt.call(e,n)&&(r[n]=e[n]);return r})(e,[]);if(!t.item)return null;const r=(0,ie.Em)(t.item)?t.item.items[0]:t.item;return(0,ie.s_)(r)?n.createElement(Me,Wt($t({},t),{item:r})):(0,ie.g$)(r)?r.item.tagType===I.dx.AvailabilityPlatform?n.createElement(he,Wt($t({},t),{item:r})):n.createElement(it,Wt($t({},t),{item:r,mergedResult:(0,ie.Em)(t.item)?t.item:void 0})):(0,ie.jc)(r)?n.createElement(Xe,Wt($t({},t),{mergedResult:(0,ie.Em)(t.item)?t.item:void 0,result:r})):(0,ie.EX)(r)?n.createElement(He,Wt($t({},t),{item:r})):null}function er({query:e}){const t=(0,n.useRef)(null),r=(0,i.I0)(),{query:l,pivot:a,isPopulated:o}=(0,i.v9)(ht.Z),s=(0,i.v9)((0,Ct.Z)()),I=(0,i.v9)((0,kt.Z)()),S=(0,D.Z)(E.G.IncludeDiscoverSource),k=(0,n.useMemo)((()=>(0,xt.Z)(s,I).filter((e=>e.results.length>0)).map((e=>Wt($t({},e),{hubs:_t(e)})))),[I,s]);if((0,n.useEffect)((()=>(t.current&&window.clearTimeout(t.current),t.current=window.setTimeout((()=>{r((0,p.c4)({pathname:Z.Z.join(Rt.Z.search,{query:l}),replace:!0}))}),b.Xt),()=>{t.current&&window.clearTimeout(t.current)})),[l,r]),(0,n.useEffect)((()=>{e&&!o&&(0,y.c9)((()=>{r(yt.Z.actions.setQuery(e))}))}),[]),!l)return n.createElement(B.Z,{description:(0,g.Z)("You can search for Titles, People, Genres and more..."),icon:n.createElement(c.default,{color:"accent",size:"xxxl"})});if(l&&!o)return n.createElement(B.Z,null,n.createElement(W.Z,null));if(o&&0===k.length)return n.createElement(u.Kq,{gap:"m",verticalAlign:"top",width:"100%"},n.createElement(St,null),n.createElement(B.Z,{description:S?n.createElement(P.Z,{message:(0,g.Z)("Try adjusting your search term or filter to find what you’re looking for. Visit {openLink}Discover{closeLink} to find more content."),tags:[{open:"openLink",close:"closeLink",component:m.rU,color:"accent",href:(0,Tt.Z)("media",{providerIdentifier:f.Xp},{source:v.Sd})}]}):(0,g.Z)("Try adjusting your search term or filter to find what you’re looking for."),icon:n.createElement(c.default,{color:"accent",size:"xxxl"}),title:(0,g.Z)("No Results Found")}));let C=0;return n.createElement(q,{pane:(0,Lt.Z)(a),query:l},n.createElement(A.Z,{scrollDirection:$.I.None},n.createElement(St,null),n.createElement(U.Z,null,k.map(((e,t)=>{var r,i,l;return(null==(r=e.hubs)?void 0:r.length)?(C+=(null==(l=null==(i=k[t-1])?void 0:i.hubs)?void 0:l.length)||0,n.createElement(n.Fragment,{key:e.id},n.createElement("div",{className:jt},n.createElement(u.Kq,{gap:"m",orientation:"horizontal",verticalAlign:"center"},n.createElement(d.x,{level:"heading-3"},e.title),n.createElement(F.Z,{group:e}))),e.hubs.map((({hub:e,items:t},r)=>{const{serverIdentifier:i,providerIdentifier:l}=(0,h.Z)(e.source);return n.createElement(w.ZP,{key:e.key,machineIdentifier:i,providerIdentifier:l},n.createElement(Yt,{hub:e,index:C+r,items:t}))})))):null})))))}function tr(){const{query:e,pivot:t,isPending:r}=(0,i.v9)(ht.Z),l=(0,i.v9)(pt.Z),a=(0,n.useMemo)((()=>r?(0,g.Z)('Searching for "{query}"',{query:e}):t===gt.mr.TopResults?(0,g.Z)('Top search results for "{query}"',{query:e}):(0,g.Z)('Search results for "{query}" in {pivot}',{query:e,pivot:(0,Pt.Z)(t)})),[e,t,r]);return l?n.createElement(dt.Z,null):n.createElement(bt.Z,null,n.createElement(st.Z,null,n.createElement(u.Kq,{gap:"m",orientation:"horizontal"},e?n.createElement(d.x,{as:"h1",color:"muted",level:"heading-2"},a):null,r?n.createElement(at.$,{size:"s"}):null)),n.createElement(ct.Z,null,n.createElement(ut.Z,{listStyles:[O.n.Search],selectedListStyle:O.n.Search})))}var rr=Object.defineProperty,nr=Object.defineProperties,ir=Object.getOwnPropertyDescriptors,lr=Object.getOwnPropertySymbols,ar=Object.prototype.hasOwnProperty,or=Object.prototype.propertyIsEnumerable,sr=(e,t,r)=>t in e?rr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,cr=(e,t)=>{for(var r in t||(t={}))ar.call(t,r)&&sr(e,r,t[r]);if(lr)for(var r of lr(t))or.call(t,r)&&sr(e,r,t[r]);return e},ur=(e,t)=>nr(e,ir(t));const mr=parseInt(Mt.Z.v4PagePadding,10),dr=parseInt(Mt.Z.v4CardTitleHeight,10),pr=parseInt(Mt.Z.v4CardTitleGap,10),vr=parseInt(Mt.Z.v4CardShadowSize,10),fr=parseInt(Mt.Z.gapMedium,10);function hr(e){return e.results.length?e.results.reduce(((t,r)=>{if((0,ie.s_)(r)){const n=e.id,i=t.find((({hub:e})=>e.key===n));if(i)i.items.push(r),i.hub.initialSize++;else{const{source:i,sourceURI:l}=r,a={hub:yr({title:(0,g.Z)("Channels"),context:`hub.${e.id}.${O.U.Channels}`,type:O.U.Channels,key:n,source:i,sourceURI:l}),items:[r]};t.push(a)}}else if((0,ie.g$)(r)){const n=(0,ie.Em)(r)?r.type:r.item.tagType;if(null==n)return t;const i=(0,C.Z)(n),l=`${e.id}-${i}`,a=t.find((({hub:e})=>e.key===l));if(a)a.items.push(r),a.hub.initialSize++;else{const{source:n,sourceURI:a}=(0,ie.Em)(r)?r.items[0]:r,o={hub:yr({title:(0,x.Z)(i,!0),context:`hub.${e.id}.${O.U.Person}`,type:O.U.Person,key:l,source:n,sourceURI:a}),items:[r]};t.push(o)}}else if((0,ie.jc)(r)||(0,ie.EX)(r)){const{type:n,subtype:i}=(0,ie.Em)(r)?r.items[0].item:r.item,l=function(e,t){return t===I.y_.Clip?O.U.Clip:(0,R.Z)(e)}(n,i),a=`${e.id}-${l}`,o=t.find((({hub:e})=>e.key===a));if(!o&&l){const{source:o,sourceURI:s}=(0,ie.Em)(r)?r.items[0]:r,c={hub:yr({title:(0,k.Z)(n,i,!0),context:`hub.${e.id}.${l}`,type:l,key:a,source:o,sourceURI:s}),items:[r]};t.push(c)}else o&&(o.items.push(r),o.hub.initialSize++)}return t}),[]):null}function yr({type:e,key:t,title:r,source:n,sourceURI:i,context:l}){return{type:e,more:!1,initialSize:1,isStale:!1,key:t,hubIdentifier:"",source:n,sourceURI:i,title:r,context:l}}function gr({index:e,hub:t,items:r}){const[l,a]=(0,w.c9)(),s=(0,i.v9)(H.Z),c=(0,n.useMemo)((()=>t.type===O.U.Person?(0,z.Z)({columnWidth:s,aspectRatio:S.Zp,titleHeight:2*dr+pr,innerHorizontalPadding:fr,outerPaddingTop:vr,outerPaddingRight:mr,outerPaddingBottom:vr,outerPaddingLeft:mr}):(0,T.Z)({listType:t.type,listStyle:O.n.Search,columnWidth:s,titleCount:t.type===O.U.Channels?2:void 0})),[t,s]),u=(0,n.useMemo)((()=>i=>i.item?n.createElement(L.ZP,{key:(0,Ot.Z)(i.item),containerProvider:a,containerServer:l,containerType:t.type,listStyle:O.n.Search},n.createElement(wt.ZP,{items:r},n.createElement(o.ZP,{column:i.column,name:t.context,row:e},n.createElement(Er,cr({},i))))):n.createElement(n.Fragment,null)),[t.context,t.type,e,r,a,l]);return n.createElement(j.Z,{cellComponentFactory:u,hub:t,hubTitleComponent:Zr,items:r,layout:c,totalSize:r.length})}function Zr({hub:e}){return n.createElement(M.Z,null,e.title," (",e.initialSize,")")}function Er(e){var t=((e,t)=>{var r={};for(var n in e)ar.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&lr)for(var n of lr(e))t.indexOf(n)<0&&or.call(e,n)&&(r[n]=e[n]);return r})(e,[]);if(!t.item)return null;const r=(0,ie.Em)(t.item)?t.item.items[0]:t.item;return(0,ie.s_)(r)?n.createElement(Me,ur(cr({},t),{item:r})):(0,ie.g$)(r)?r.item.tagType===I.dx.AvailabilityPlatform?n.createElement(he,ur(cr({},t),{item:r})):n.createElement(it,ur(cr({},t),{item:r,mergedResult:(0,ie.Em)(t.item)?t.item:void 0})):(0,ie.jc)(r)?n.createElement(Xe,ur(cr({},t),{mergedResult:(0,ie.Em)(t.item)?t.item:void 0,result:r})):(0,ie.EX)(r)?n.createElement(He,ur(cr({},t),{item:r})):null}function Pr({query:e}){const t=(0,n.useRef)(null),r=(0,i.I0)(),{query:l,pivot:a,isPopulated:o}=(0,i.v9)(ht.Z),s=(0,i.v9)((0,Ct.Z)()),I=(0,i.v9)((0,kt.Z)()),S=(0,D.Z)(E.G.IncludeDiscoverSource),k=(0,n.useMemo)((()=>(0,xt.Z)(s,I).filter((e=>e.results.length>0)).map((e=>ur(cr({},e),{hubs:hr(e)})))),[I,s]);if((0,n.useEffect)((()=>(t.current&&window.clearTimeout(t.current),t.current=window.setTimeout((()=>{r((0,p.c4)({pathname:Z.Z.join(Rt.Z.search,{query:l}),replace:!0}))}),b.Xt),()=>{t.current&&window.clearTimeout(t.current)})),[l,r]),(0,n.useEffect)((()=>{e&&!o&&(0,y.c9)((()=>{r(yt.Z.actions.setQuery(e))}))}),[]),!l)return n.createElement(B.Z,{description:(0,g.Z)("You can search for Titles, People, Genres and more..."),icon:n.createElement(c.default,{color:"accent",size:"xxxl"})});if(l&&!o)return n.createElement(B.Z,null,n.createElement(W.Z,null));if(o&&0===k.length)return n.createElement(B.Z,{description:S?n.createElement(P.Z,{message:(0,g.Z)("Try adjusting your search term or filter to find what you’re looking for. Visit {openLink}Discover{closeLink} to find more content."),tags:[{open:"openLink",close:"closeLink",component:m.rU,color:"accent",href:(0,Tt.Z)("media",{providerIdentifier:f.Xp},{source:v.Sd})}]}):(0,g.Z)("Try adjusting your search term or filter to find what you’re looking for."),icon:n.createElement(c.default,{color:"accent",size:"xxxl"}),title:(0,g.Z)("No Results Found")});let C=0;return n.createElement(q,{pane:(0,Lt.Z)(a),query:l},n.createElement(A.Z,{scrollDirection:$.I.None},n.createElement(tr,null),n.createElement(U.Z,null,k.map(((e,t)=>{var r,i,l;return(null==(r=e.hubs)?void 0:r.length)?(C+=(null==(l=null==(i=k[t-1])?void 0:i.hubs)?void 0:l.length)||0,n.createElement(n.Fragment,{key:e.id},n.createElement("div",{className:jt},n.createElement(u.Kq,{gap:"m",orientation:"horizontal",verticalAlign:"center"},n.createElement(d.x,{level:"heading-3"},e.title),n.createElement(F.Z,{group:e}))),e.hubs.map((({hub:e,items:t},r)=>{const{serverIdentifier:i,providerIdentifier:l}=(0,h.Z)(e.source);return n.createElement(w.ZP,{key:e.key,machineIdentifier:i,providerIdentifier:l},n.createElement(gr,{hub:e,index:C+r,items:t}))})))):null})))))}var br=r(75989);function Ir(){const e=(0,a.Z)(),t=(0,br.Z)(e.query),r=(0,i.v9)(s.Z);return n.createElement(o.ZP,{metricsPage:l.mo},r?n.createElement(er,{query:t}):n.createElement(Pr,{query:t}))}},42934:(e,t,r)=>{r.d(t,{Z:()=>u});var n=r(67294),i=Object.defineProperty,l=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,s=(e,t,r)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;function c(e){var t=e,{children:r}=t,i=((e,t)=>{var r={};for(var n in e)a.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&l)for(var n of l(e))t.indexOf(n)<0&&o.call(e,n)&&(r[n]=e[n]);return r})(t,["children"]);return n.createElement("div",((e,t)=>{for(var r in t||(t={}))a.call(t,r)&&s(e,r,t[r]);if(l)for(var r of l(t))o.call(t,r)&&s(e,r,t[r]);return e})({},i),r)}c.defaultProps={className:"PrimaryPageHeader-pageHeader-SBemrw PageHeader-pageHeader-e2k66t"};const u=c}}]);